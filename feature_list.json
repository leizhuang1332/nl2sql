{
  "project": "nl2sql",
  "description": "一个基于 Langchain 的 nl2sql 项目",
  "tasks": [
    {
      "id": 1,
      "title": "项目初始化",
      "description": "项目初始化",
      "steps": [
        "创建feature_list.json",
        "创建init.sh",
        "创建progress.md",
        "创建AGENTS.md"
      ],
      "passes": true
    },
    {
      "id": 2,
      "title": "Phase 1: Schema 核心基础",
      "description": "实现 SQLite 数据库连接 + 基本 Schema 提取",
      "module": "schema",
      "phase": 1,
      "steps": [
        "实现 DatabaseConnector（仅 SQLite）",
        "实现 SchemaExtractor 基本提取",
        "添加单元测试"
      ],
      "files": [
        "src/schema/database_connector.py",
        "src/schema/schema_extractor.py",
        "tests/test_schema_phase1.py"
      ],
      "passes": true
    },
    {
      "id": 3,
      "title": "Phase 2: Schema 文档生成",
      "description": "生成 LLM 可读的 Schema 文档 + 采样数据",
      "module": "schema",
      "phase": 2,
      "steps": [
        "实现 SchemaDocGenerator",
        "添加采样数据功能",
        "添加单元测试"
      ],
      "files": [
        "src/schema/schema_doc_generator.py",
        "src/schema/schema_extractor.py",
        "tests/test_schema_phase2.py"
      ],
      "passes": false
    },
    {
      "id": 4,
      "title": "Phase 3: 语义增强",
      "description": "字段注释/业务含义注入，解决语义歧义",
      "module": "schema",
      "phase": 3,
      "steps": [
        "实现 SchemaEnhancer",
        "实现配置文件加载",
        "创建字段描述配置模板",
        "添加单元测试"
      ],
      "files": [
        "src/schema/schema_enhancer.py",
        "config/field_descriptions.json",
        "tests/test_schema_phase3.py"
      ],
      "passes": false
    },
    {
      "id": 5,
      "title": "Phase 4: 关系提取",
      "description": "提取表之间的主键外键关系",
      "module": "schema",
      "phase": 4,
      "steps": [
        "实现 RelationshipExtractor",
        "支持手动配置关系",
        "添加单元测试"
      ],
      "files": [
        "src/schema/relationship_extractor.py",
        "tests/test_schema_phase4.py"
      ],
      "passes": false
    },
    {
      "id": 6,
      "title": "Phase 5: 多数据源支持",
      "description": "支持 MySQL/PostgreSQL/Oracle，扩展为工厂模式",
      "module": "schema",
      "phase": 5,
      "steps": [
        "扩展 DatabaseConnector 支持多类型",
        "实现 DatabaseConnectorFactory",
        "预留扩展接口",
        "添加单元测试"
      ],
      "files": [
        "src/schema/database_connector.py",
        "src/schema/database_factory.py",
        "tests/test_schema_phase5.py"
      ],
      "passes": false
    }
  ]
}
