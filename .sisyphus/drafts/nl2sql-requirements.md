# NL2SQL 智能问数项目 - 需求规格说明书

## 1. 业务场景
| 项目 | 需求 |
|------|------|
| 核心问题 | 降低技术门槛，让非技术人员也能自助查询数据 |
| 目标用户 | 全部角色（业务运营人员、数据分析师、管理层） |
| 使用规模 | 中型团队 (10-50人) |

## 2. 数据源
| 项目 | 需求 |
|------|------|
| 数据库类型 | MySQL、PostgreSQL、Oracle |
| 数据规模 | 超大型 (>200表) |
| 元数据 | 部分有（部分表有注释） |

## 3. 查询复杂度
| 项目 | 需求 |
|------|------|
| 查询类型 | 全部支持（简单查询、多表关联、聚合统计、复杂查询） |
| 高级功能 | 全部支持（日期时间计算、模糊搜索、排序分页、计算字段） |

## 4. 安全要求
| 项目 | 需求 |
|------|------|
| 行级权限 | 不需要 |
| 数据脱敏 | 需要（手机号、身份证、银行卡等） |
| 审计日志 | 需要完整审计（记录所有查询语句、查询时间、查询用户） |

## 5. 部署环境
| 项目 | 需求 |
|------|------|
| 部署方式 | 私有化部署 |
| 信创要求 | 不需要 |
| 基础设施 | 无GPU，需调用云端API |

---

## 后续建议

基于以上需求，建议技术方案如下：

1. **NL2SQL 引擎**：可考虑使用开源方案（如 Chat2DB、Text2SQL）进行二次开发，或接入云端大模型 API
2. **数据脱敏**：在查询结果返回前增加脱敏处理层
3. **审计日志**：记录完整的查询日志到独立日志库
4. **多数据库支持**：通过数据库连接池统一管理 MySQL/PostgreSQL/Oracle 连接

---

*需求调研完成时间：2026-02-14*
